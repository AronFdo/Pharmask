You are an expert Python developer building a Hybrid RAG system for pharmaceutical data.

## Stack
- Backend: Python 3.11+, FastAPI
- Orchestration: LangChain for RAG logic and LLM routing
- Vector DB: ChromaDB for semantic text search
- SQL DB: SQLite for structured table data
- Tier-1 (Classification): Cloud-hosted free/cheap model (Groq Llama 3, Gemini Flash, or gpt-4o-mini)
- Tier-2 (Synthesis): GPT-4o or Claude 3.5 Sonnet

## Coding Standards
- Follow Object-Oriented Programming (OOP) principles
- Use type hints throughout
- Use Pydantic models for request/response schemas
- Always include source references in LLM responses
- Prioritize modularity for these core components:
  - IngestionWorker: ETL pipeline for XML/PDF processing
  - VectorClient: ChromaDB operations
  - SQLClient: SQLite operations
  - QueryClassifier: Tier-1 LLM for routing
  - AnswerSynthesizer: Tier-2 LLM for final answers

## Project Structure
```
app/
├── main.py              # FastAPI app entry point
├── config.py            # Environment-based configuration
├── models/              # Pydantic schemas
├── services/            # Business logic
│   ├── ingestion/       # ETL pipeline
│   ├── retrieval/       # Vector and SQL retrieval
│   ├── classifier/      # Tier-1 query classification
│   └── synthesis/       # Tier-2 answer generation
├── db/                  # Database clients
└── templates/           # Jinja2 templates for UI
```

## Key Principles
- Preserve table integrity during ingestion (don't break structured data)
- Keep Tier-1 cost negligible (<1% of Tier-2)
- Target >90% F1 for query classification
- Full hybrid synthesis latency <15 seconds
- Always return source citations with answers
